(window.webpackJsonp=window.webpackJsonp||[]).push([[4],{"/8Fb":function(e,t,n){var r=n("XKFU"),o=n("UExd")(!0);r(r.S,"Object",{entries:function(e){return o(e)}})},"/e88":function(e,t){e.exports="\t\n\v\f\r   ᠎             　\u2028\u2029\ufeff"},Nr18:function(e,t,n){"use strict";var r=n("S/j/"),o=n("d/Gc"),i=n("ne8i");e.exports=function(e){for(var t=r(this),n=i(t.length),a=arguments.length,c=o(a>1?arguments[1]:void 0,n),u=a>2?arguments[2]:void 0,s=void 0===u?n:o(u,n);s>c;)t[c++]=e;return t}},QeBL:function(e,t,n){"use strict";n.r(t);n("xfY5");var r,o=n("q1tI"),i=n.n(o),a=(n("bHtr"),function(e){var t=e.color;return i.a.createElement("td",{style:{height:"20px",width:"20px",border:"1px solid black",backgroundColor:t}})}),c=function(e){return i.a.createElement("table",null,i.a.createElement("tbody",null,new Array(e.dimensions[0]).fill(void 0).map((function(t,n){return i.a.createElement("tr",{key:"board-row-"+n},new Array(e.dimensions[1]).fill(void 0).map((function(t,r){return i.a.createElement(a,{key:"board-row-"+n+"-pos-"+r,color:e.points[String([n,r])]})})))}))))},u=(n("91GP"),{coordinates:[[0,-1],[0,0],[0,1],[0,2]],color:"#00F0F0"}),s={coordinates:[[1,-1],[0,-1],[0,0],[0,1]],color:"#0000F0"},l={coordinates:[[0,-1],[0,0],[0,1],[1,1]],color:"#F0A000"},f={coordinates:[[0,0],[0,1],[-1,0],[-1,1]],color:"#F0F000"},d={coordinates:[[0,-1],[0,0],[1,0],[1,1]],color:"#00F000"},b={coordinates:[[1,-1],[1,0],[0,0],[0,1]],color:"#F00000"},v={coordinates:[[0,-1],[0,0],[1,0],[-1,0]],color:"#A000F0"},m=function(){var e=[v,b,d,l,s,u,f];return JSON.parse(JSON.stringify(e[Math.floor(Math.random()*e.length)]))},p=(n("/8Fb"),n("rGqo"),n("yt8O"),n("Btvt"),n("RW0V"),function(e){return e.coordinates.reduce((function(t,n){return t[String(n)]=e.color,t}),{})}),g=(n("p21n"),function(e,t){return[e[0]+t[0],e[1]+t[1]]}),C=function(e,t){return e.map((function(e){return g(e,t)}))},h=function(e,t){return Object.assign({},e,{coordinates:C(e.coordinates,t)})},k=function(e){var t=Object(o.useState)(e),n=t[0],i=(t[1],function(e){var t=Object(o.useState)(m()),n=t[0],r=t[1],i=Object(o.useState)(m()),a=i[0],c=i[1];return{replaceCurrentTetrimino:Object(o.useCallback)((function(){r(a),c(m())}),[a]),setActiveTetrimino:r,activeTetrimino:n,nextTetrimino:a}}()),a=i.activeTetrimino,c=i.setActiveTetrimino,u=i.nextTetrimino,s=i.replaceCurrentTetrimino;Object(o.useEffect)((function(){r||(r=setInterval((function(){0}),100))}),[]);var l=Object(o.useState)([1,Math.floor(n[1]/2+1)]),f=l[0],d=l[1],b=function(e,t,n){var r=Object(o.useState)({"15,0":"red","15,1":"red","15,2":"red"}),i=r[0],a=r[1],c=Object(o.useState)({15:{0:!0,1:!0,2:!0}}),u=c[0],s=c[1],l=Object(o.useState)({}),f=l[0],d=l[1],b=Object(o.useCallback)((function(){a({}),s({})}),[]);return Object(o.useEffect)((function(){var n=h(e,t);d(Object.assign({},i,{},p(n)))}),[e,i,t]),{reset:b,allCoordinates:f,addStationaryCoordinates:Object(o.useCallback)((function(r){var o=h(e,t),c=n[1],l=Object.assign({},i,{},p(o)),f=Object.assign({},u);o.coordinates.forEach((function(e){var t=e[0],n=e[1];f[t]||(f[t]={}),f[t][n]=!0}));var d=o.coordinates.map((function(e){return e[0]})).filter((function(e,t,n){return n.indexOf(e)===t})).filter((function(e){return Object.keys(f[e]).length>=c}));return d.forEach((function(e){Object.keys(f[e]).forEach((function(t){delete l[String([e,Number(t)])]})),delete f[e];for(var t=function(e){Object.entries(f[e]||{}).forEach((function(t){var n=t[0];l[String([e+1,n])]=l[String([e,n])],delete l[String([e,n])]})),f[Number(e)+1]=f[e],delete f[e]},n=e-1;n>=0;--n)t(n)})),a(l),s(f),r(),d.length}),[i,u,e,t]),stationaryBrickCoordinates:i}}(a,f,n),v=b.allCoordinates,k=b.reset,O=b.stationaryBrickCoordinates,E=b.addStationaryCoordinates,w=function(e,t,n,r,i,a){var c=Object(o.useCallback)((function(e){return e.every((function(e){var t=e[0],n=e[1],r=0<=n,o=n<i[1],c=0<=t,u=t<i[0],s=!a[String([t,n])];return r&&o&&c&&u&&s}))}),[i,a]),u=Object(o.useCallback)((function(t,o){var i=h(e,n);console.log(i.coordinates),c(C(i.coordinates,t))?r(g(n,t)):o&&o()}),[e,i,a,n]),s=Object(o.useCallback)((function(r){var o=Object.assign({},e,{coordinates:e.coordinates.map(r)}),i=h(o,n);c(i.coordinates)?t(o):(c(C(i.coordinates,[0,1]))&&(u([0,1]),t(o)),c(C(i.coordinates,[0,-1]))&&(u([0,-1]),t(o)))}),[e,n]);return{rotateClockwise:Object(o.useCallback)((function(){s((function(e){var t=e[0];return[e[1],-t]}))}),[s]),rotateCounterClockwise:Object(o.useCallback)((function(){s((function(e){var t=e[0];return[-e[1],t]}))}),[s]),moveLeft:Object(o.useCallback)((function(){return u([0,-1])}),[u]),moveRight:Object(o.useCallback)((function(){return u([0,1])}),[u]),moveDown:Object(o.useCallback)((function(e){return u([1,0],e)}),[u])}}(a,c,f,d,n,O),j=w.moveDown,y=w.moveLeft,S=w.moveRight,N=w.rotateClockwise,F=w.rotateCounterClockwise,I=Object(o.useCallback)((function(){d([1,Math.floor(n[1]/2+1)])}),[]),A=Object(o.useCallback)((function(){return E((function(){s(),I()}))}),[E,s]);return function(e){Object(o.useEffect)((function(){var t=e.map((function(e){var t=function(t){return t.key===e.key?e.fn():null};return window.addEventListener("keydown",t),t}));return function(){t.forEach((function(e){window.removeEventListener("keydown",e)}))}}),e.map((function(e){return e.fn})))}([{key:"ArrowDown",fn:j},{key:"ArrowLeft",fn:y},{key:"ArrowRight",fn:S},{key:"w",fn:N},{key:"q",fn:F}]),Object(o.useEffect)((function(){var e=setInterval((function(){j(A)}),100);return function(){clearInterval(e)}}),[f,A]),{dimensions:n,activeTetrimino:a,nextTetrimino:u,replaceCurrentTetrimino:s,allCoordinates:v,setBrickPosition:d,addStationaryCoordinates:E,moveLeft:y,moveRight:S,moveDown:j,reset:k,rotateClockwise:N,rotateCounterClockwise:F}};t.default=function(){var e=Object(o.useState)([16,10]),t=e[0],n=e[1],r=k(t),a=r.allCoordinates,u=(r.nextTetrimino,r.activeTetrimino,r.setBrickPosition),s=(r.rotateClockwise,r.moveLeft,r.reset),l=(r.moveRight,r.moveDown,r.rotateCounterClockwise,r.replaceCurrentTetrimino);r.addStationaryCoordinates,Object(o.useCallback)((function(){l(),u([1,Math.floor(t[1]/2+1)])}),[]);return i.a.createElement("div",null,i.a.createElement(c,{dimensions:t,points:a}),i.a.createElement("label",{htmlFor:""},"Height"),i.a.createElement("input",{type:"number",value:t[0],onChange:function(e){return n([Number(e.target.value),t[1]])}}),i.a.createElement("label",{htmlFor:""},"width"),i.a.createElement("input",{type:"number",value:t[1],onChange:function(e){return n([t[0],Number(e.target.value)])}}),i.a.createElement("br",null),i.a.createElement("button",{onClick:s},"Reset"))}},UExd:function(e,t,n){var r=n("nh4g"),o=n("DVgA"),i=n("aCFj"),a=n("UqcF").f;e.exports=function(e){return function(t){for(var n,c=i(t),u=o(c),s=u.length,l=0,f=[];s>l;)n=u[l++],r&&!a.call(c,n)||f.push(e?[n,c[n]]:c[n]);return f}}},bHtr:function(e,t,n){var r=n("XKFU");r(r.P,"Array",{fill:n("Nr18")}),n("nGyu")("fill")},p21n:function(e,t){},qncB:function(e,t,n){var r=n("XKFU"),o=n("vhPU"),i=n("eeVq"),a=n("/e88"),c="["+a+"]",u=RegExp("^"+c+c+"*"),s=RegExp(c+c+"*$"),l=function(e,t,n){var o={},c=i((function(){return!!a[e]()||"​"!="​"[e]()})),u=o[e]=c?t(f):a[e];n&&(o[n]=u),r(r.P+r.F*c,"String",o)},f=l.trim=function(e,t){return e=String(o(e)),1&t&&(e=e.replace(u,"")),2&t&&(e=e.replace(s,"")),e};e.exports=l},xfY5:function(e,t,n){"use strict";var r=n("dyZX"),o=n("aagx"),i=n("LZWt"),a=n("Xbzi"),c=n("apmT"),u=n("eeVq"),s=n("kJMx").f,l=n("EemH").f,f=n("hswa").f,d=n("qncB").trim,b=r.Number,v=b,m=b.prototype,p="Number"==i(n("Kuth")(m)),g="trim"in String.prototype,C=function(e){var t=c(e,!1);if("string"==typeof t&&t.length>2){var n,r,o,i=(t=g?t.trim():d(t,3)).charCodeAt(0);if(43===i||45===i){if(88===(n=t.charCodeAt(2))||120===n)return NaN}else if(48===i){switch(t.charCodeAt(1)){case 66:case 98:r=2,o=49;break;case 79:case 111:r=8,o=55;break;default:return+t}for(var a,u=t.slice(2),s=0,l=u.length;s<l;s++)if((a=u.charCodeAt(s))<48||a>o)return NaN;return parseInt(u,r)}}return+t};if(!b(" 0o1")||!b("0b1")||b("+0x1")){b=function(e){var t=arguments.length<1?0:e,n=this;return n instanceof b&&(p?u((function(){m.valueOf.call(n)})):"Number"!=i(n))?a(new v(C(t)),n,b):C(t)};for(var h,k=n("nh4g")?s(v):"MAX_VALUE,MIN_VALUE,NaN,NEGATIVE_INFINITY,POSITIVE_INFINITY,EPSILON,isFinite,isInteger,isNaN,isSafeInteger,MAX_SAFE_INTEGER,MIN_SAFE_INTEGER,parseFloat,parseInt,isInteger".split(","),O=0;k.length>O;O++)o(v,h=k[O])&&!o(b,h)&&f(b,h,l(v,h));b.prototype=m,m.constructor=b,n("KroJ")(r,"Number",b)}}}]);
//# sourceMappingURL=component---src-pages-index-tsx-d875dc3a2da451bbb9a5.js.map