(window.webpackJsonp=window.webpackJsonp||[]).push([[4],{"/8Fb":function(e,t,n){var r=n("XKFU"),o=n("UExd")(!0);r(r.S,"Object",{entries:function(e){return o(e)}})},"/e88":function(e,t){e.exports="\t\n\v\f\r   ᠎             　\u2028\u2029\ufeff"},Nr18:function(e,t,n){"use strict";var r=n("S/j/"),o=n("d/Gc"),i=n("ne8i");e.exports=function(e){for(var t=r(this),n=i(t.length),a=arguments.length,c=o(a>1?arguments[1]:void 0,n),u=a>2?arguments[2]:void 0,l=void 0===u?n:o(u,n);l>c;)t[c++]=e;return t}},QeBL:function(e,t,n){"use strict";n.r(t);n("xfY5");var r=n("q1tI"),o=n.n(r),i=(n("bHtr"),function(e){var t=e.color;return o.a.createElement("td",{style:{height:"20px",width:"20px",border:"1px solid black",backgroundColor:t}})}),a=function(e){return o.a.createElement("table",null,o.a.createElement("tbody",null,new Array(e.dimensions[0]).fill(void 0).map((function(t,n){return o.a.createElement("tr",{key:"board-row-"+n},new Array(e.dimensions[1]).fill(void 0).map((function(t,r){return o.a.createElement(i,{key:"board-row-"+n+"-pos-"+r,color:e.points[String([n,r])]})})))}))))},c={coordinates:[[0,-1],[0,0],[0,1],[0,2]],color:"#00F0F0"},u={coordinates:[[1,-1],[0,-1],[0,0],[0,1]],color:"#0000F0"},l={coordinates:[[0,-1],[0,0],[0,1],[1,1]],color:"#F0A000"},s={coordinates:[[0,0],[0,1],[-1,0],[-1,1]],color:"#F0F000"},f={coordinates:[[0,-1],[0,0],[1,0],[1,1]],color:"#00F000"},d={coordinates:[[1,-1],[1,0],[0,0],[0,1]],color:"#F00000"},v={coordinates:[[0,-1],[0,0],[1,0],[-1,0]],color:"#A000F0"},b=function(){var e=[v,d,f,l,u,c,s];return JSON.parse(JSON.stringify(e[Math.floor(Math.random()*e.length)]))},m=(n("/8Fb"),n("rGqo"),n("yt8O"),n("Btvt"),n("RW0V"),n("91GP"),n("p21n"),function(e,t){return[e[0]+t[0],e[1]+t[1]]}),w=function(e,t){return e.map((function(e){return m(e,t)}))},k=function(e,t){return Object.assign({},e,{coordinates:w(e.coordinates,t)})},g=function(e){return e.coordinates.reduce((function(t,n){return t[String(n)]=e.color,t}),{})},C=function(e){var t=function(e){var t=Object(r.useState)(b()),n=t[0],o=t[1],i=Object(r.useState)(b()),a=i[0],c=i[1];return{replaceCurrentTetrimino:Object(r.useCallback)((function(){o(a),c(b())}),[a]),setActiveTetrimino:o,activeTetrimino:n,nextTetrimino:a}}(),n=t.activeTetrimino,o=t.setActiveTetrimino,i=t.nextTetrimino,a=t.replaceCurrentTetrimino,c=Object(r.useState)([1,Math.floor(e[1]/2+1)]),u=c[0],l=c[1],s=function(e,t,n){var o=Object(r.useState)({"15,0":"red","15,1":"red","15,2":"red"}),i=o[0],a=o[1],c=Object(r.useState)({15:{0:!0,1:!0,2:!0}}),u=c[0],l=c[1],s=Object(r.useState)({}),f=s[0],d=s[1],v=Object(r.useCallback)((function(){a({}),l({})}),[]);return Object(r.useEffect)((function(){var n=k(e,t);d(Object.assign({},i,{},g(n)))}),[e,i,t]),{reset:v,allCoordinates:f,addStationaryCoordinates:Object(r.useCallback)((function(r){var o=k(e,t),c=n[1],s=Object.assign({},i,{},g(o)),f=Object.assign({},u);o.coordinates.forEach((function(e){var t=e[0],n=e[1];f[t]||(f[t]={}),f[t][n]=!0}));var d=o.coordinates.map((function(e){return e[0]})).filter((function(e,t,n){return n.indexOf(e)===t})).filter((function(e){return Object.keys(f[e]).length>=c}));return d.forEach((function(e){Object.keys(f[e]).forEach((function(t){delete s[String([e,Number(t)])]})),delete f[e];for(var t=function(e){Object.entries(f[e]||{}).forEach((function(t){var n=t[0];s[String([e+1,n])]=s[String([e,n])],delete s[String([e,n])]})),f[Number(e)+1]=f[e],delete f[e]},n=e-1;n>=0;--n)t(n)})),a(s),l(f),r(),d.length}),[i,u,e,t]),stationaryBrickCoordinates:i}}(n,u,e),f=s.allCoordinates,d=s.reset,v=s.stationaryBrickCoordinates,C=s.addStationaryCoordinates,p=function(e,t,n,o,i,a){var c=Object(r.useCallback)((function(e){return e.every((function(e){var t=e[0],n=e[1],r=0<=n,o=n<i[1],c=0<=t,u=t<i[0],l=!a[String([t,n])];return r&&o&&c&&u&&l}))}),[i,a]),u=Object(r.useCallback)((function(t,r){var i=k(e,n);console.log(i.coordinates),c(w(i.coordinates,t))?o(m(n,t)):r&&r()}),[e,i,a,n]),l=Object(r.useCallback)((function(r){var o=Object.assign({},e,{coordinates:e.coordinates.map(r)}),i=k(o,n);c(i.coordinates)?t(o):(c(w(i.coordinates,[0,1]))&&(u([0,1]),t(o)),c(w(i.coordinates,[0,-1]))&&(u([0,-1]),t(o)))}),[e,n]),s=Object(r.useCallback)((function(){l((function(e){var t=e[0];return[e[1],-t]}))}),[l]),f=Object(r.useCallback)((function(){l((function(e){var t=e[0];return[-e[1],t]}))}),[l]),d=Object(r.useCallback)((function(){return u([0,-1])}),[u]),v=Object(r.useCallback)((function(){return u([0,1])}),[u]),b=Object(r.useCallback)((function(e){return u([1,0],e)}),[u]);return Object(r.useEffect)((function(){var e=function(e){return"ArrowDown"===e.key?b():null},t=function(e){return"ArrowLeft"===e.key?d():null},n=function(e){return"ArrowRight"===e.key?v():null},r=function(e){return"w"===e.key?s():null},o=function(e){return"q"===e.key?f():null};return window.addEventListener("keydown",e),window.addEventListener("keydown",t),window.addEventListener("keydown",n),window.addEventListener("keydown",r),window.addEventListener("keydown",o),function(){window.removeEventListener("keydown",e),window.removeEventListener("keydown",t),window.removeEventListener("keydown",n),window.removeEventListener("keydown",r),window.removeEventListener("keydown",o)}}),[b,d,v,s,f]),{rotateClockwise:s,rotateCounterClockwise:f,moveLeft:d,moveRight:v,moveDown:b}}(n,o,u,l,e,v),h=p.moveDown,E=p.moveLeft,y=p.moveRight,O=p.rotateClockwise,j=p.rotateCounterClockwise,N=Object(r.useCallback)((function(){l([1,Math.floor(e[1]/2+1)])}),[]),S=Object(r.useCallback)((function(){return C((function(){a(),N()}))}),[C,a]);return Object(r.useEffect)((function(){var e=setInterval((function(){h(S)}),800);return function(){clearInterval(e)}}),[u,S]),{dimensions:e,activeTetrimino:n,nextTetrimino:i,replaceCurrentTetrimino:a,allCoordinates:f,setBrickPosition:l,addStationaryCoordinates:C,moveLeft:E,moveRight:y,moveDown:h,reset:d,rotateClockwise:O,rotateCounterClockwise:j}};t.default=function(){var e=Object(r.useState)([16,10]),t=e[0],n=e[1],i=C(t),c=i.allCoordinates,u=(i.nextTetrimino,i.activeTetrimino,i.setBrickPosition),l=(i.rotateClockwise,i.moveLeft,i.reset),s=(i.moveRight,i.moveDown,i.rotateCounterClockwise,i.replaceCurrentTetrimino);i.addStationaryCoordinates,Object(r.useCallback)((function(){s(),u([1,Math.floor(t[1]/2+1)])}),[]);return o.a.createElement("div",null,o.a.createElement(a,{dimensions:t,points:c}),o.a.createElement("label",{htmlFor:""},"Height"),o.a.createElement("input",{type:"number",value:t[0],onChange:function(e){return n([Number(e.target.value),t[1]])}}),o.a.createElement("label",{htmlFor:""},"width"),o.a.createElement("input",{type:"number",value:t[1],onChange:function(e){return n([t[0],Number(e.target.value)])}}),o.a.createElement("br",null),o.a.createElement("button",{onClick:l},"Reset"))}},UExd:function(e,t,n){var r=n("nh4g"),o=n("DVgA"),i=n("aCFj"),a=n("UqcF").f;e.exports=function(e){return function(t){for(var n,c=i(t),u=o(c),l=u.length,s=0,f=[];l>s;)n=u[s++],r&&!a.call(c,n)||f.push(e?[n,c[n]]:c[n]);return f}}},bHtr:function(e,t,n){var r=n("XKFU");r(r.P,"Array",{fill:n("Nr18")}),n("nGyu")("fill")},p21n:function(e,t){},qncB:function(e,t,n){var r=n("XKFU"),o=n("vhPU"),i=n("eeVq"),a=n("/e88"),c="["+a+"]",u=RegExp("^"+c+c+"*"),l=RegExp(c+c+"*$"),s=function(e,t,n){var o={},c=i((function(){return!!a[e]()||"​"!="​"[e]()})),u=o[e]=c?t(f):a[e];n&&(o[n]=u),r(r.P+r.F*c,"String",o)},f=s.trim=function(e,t){return e=String(o(e)),1&t&&(e=e.replace(u,"")),2&t&&(e=e.replace(l,"")),e};e.exports=s},xfY5:function(e,t,n){"use strict";var r=n("dyZX"),o=n("aagx"),i=n("LZWt"),a=n("Xbzi"),c=n("apmT"),u=n("eeVq"),l=n("kJMx").f,s=n("EemH").f,f=n("hswa").f,d=n("qncB").trim,v=r.Number,b=v,m=v.prototype,w="Number"==i(n("Kuth")(m)),k="trim"in String.prototype,g=function(e){var t=c(e,!1);if("string"==typeof t&&t.length>2){var n,r,o,i=(t=k?t.trim():d(t,3)).charCodeAt(0);if(43===i||45===i){if(88===(n=t.charCodeAt(2))||120===n)return NaN}else if(48===i){switch(t.charCodeAt(1)){case 66:case 98:r=2,o=49;break;case 79:case 111:r=8,o=55;break;default:return+t}for(var a,u=t.slice(2),l=0,s=u.length;l<s;l++)if((a=u.charCodeAt(l))<48||a>o)return NaN;return parseInt(u,r)}}return+t};if(!v(" 0o1")||!v("0b1")||v("+0x1")){v=function(e){var t=arguments.length<1?0:e,n=this;return n instanceof v&&(w?u((function(){m.valueOf.call(n)})):"Number"!=i(n))?a(new b(g(t)),n,v):g(t)};for(var C,p=n("nh4g")?l(b):"MAX_VALUE,MIN_VALUE,NaN,NEGATIVE_INFINITY,POSITIVE_INFINITY,EPSILON,isFinite,isInteger,isNaN,isSafeInteger,MAX_SAFE_INTEGER,MIN_SAFE_INTEGER,parseFloat,parseInt,isInteger".split(","),h=0;p.length>h;h++)o(b,C=p[h])&&!o(v,C)&&f(v,C,s(b,C));v.prototype=m,m.constructor=v,n("KroJ")(r,"Number",v)}}}]);
//# sourceMappingURL=component---src-pages-index-tsx-42dc509882975c1f23ea.js.map