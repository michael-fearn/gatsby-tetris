(window.webpackJsonp=window.webpackJsonp||[]).push([[4],{"/8Fb":function(e,t,n){var r=n("XKFU"),o=n("UExd")(!0);r(r.S,"Object",{entries:function(e){return o(e)}})},"/e88":function(e,t){e.exports="\t\n\v\f\r   ᠎             　\u2028\u2029\ufeff"},Nr18:function(e,t,n){"use strict";var r=n("S/j/"),o=n("d/Gc"),a=n("ne8i");e.exports=function(e){for(var t=r(this),n=a(t.length),i=arguments.length,c=o(i>1?arguments[1]:void 0,n),u=i>2?arguments[2]:void 0,s=void 0===u?n:o(u,n);s>c;)t[c++]=e;return t}},QeBL:function(e,t,n){"use strict";n.r(t);var r=n("q1tI"),o=n.n(r),a=(n("91GP"),n("bHtr"),function(e){var t=e.color;return o.a.createElement("td",{style:{height:"25px",margin:5,width:"25px",borderRadius:"6px",border:t?"":"1px solid rgba(255, 255, 255, 0.26)",backgroundColor:t}})}),i=function(e){return o.a.createElement("table",null,o.a.createElement("tbody",null,new Array(e.dimensions[0]).fill(void 0).map((function(t,n){return o.a.createElement("tr",{key:"board-row-"+n},new Array(e.dimensions[1]).fill(void 0).map((function(t,r){return o.a.createElement(a,{key:"board-row-"+n+"-pos-"+r,color:e.points[String([n,r])]})})))}))))},c={coordinates:[[-1,0],[0,0],[1,0],[2,0]],accentColor:"#E09B9B",color:"#E34848"},u={coordinates:[[1,-1],[0,-1],[0,0],[0,1]],accentColor:"#DCDCDC",color:"#DCDCDC"},s={coordinates:[[0,-1],[0,0],[0,1],[1,1]],accentColor:"#E4C0EA",color:"#D242EA"},l={coordinates:[[0,0],[0,1],[-1,0],[-1,1]],accentColor:"#9DA2D2",color:"#2536D2"},f={coordinates:[[0,-1],[0,0],[1,0],[1,1]],accentColor:"#9CDADE",color:"#6CE5ED"},d={coordinates:[[1,-1],[1,0],[0,0],[0,1]],accentColor:"#B9E7A8",color:"#83EB5E"},b={coordinates:[[0,-1],[0,0],[1,0],[-1,0]],accentColor:"#FFD5AE",color:"#FB9A41"},m=function(){var e=[b,d,f,s,u,c,l];return JSON.parse(JSON.stringify(e[Math.floor(Math.random()*e.length)]))},v=(n("Vd3H"),n("xfY5"),n("RW0V"),n("rGqo"),n("yt8O"),n("Btvt"),n("/8Fb"),n("p21n"),function(e,t){return[e[0]+t[0],e[1]+t[1]]}),C=function(e,t){return e.map((function(e){return v(e,t)}))},p=function(e,t){return Object.assign({},e,{coordinates:C(e.coordinates,t)})},E=function(e){return e.coordinates.reduce((function(t,n){return t[String(n)]=e.color,t}),{})},g=function(e){var t=Object(r.useState)(e),n=t[0],o=t[1],a=function(e){var t=Object(r.useState)(m()),n=t[0],o=t[1],a=Object(r.useState)(m()),i=a[0],c=a[1];return{replaceCurrentTetrimino:Object(r.useCallback)((function(){o(i),c(m())}),[i]),setActiveTetrimino:o,activeTetrimino:n,nextTetrimino:i}}(),i=a.activeTetrimino,c=a.setActiveTetrimino,u=a.nextTetrimino,s=a.replaceCurrentTetrimino,l=[0,Math.floor(n[1]/2-1)],f=Object(r.useState)(l),d=f[0],b=f[1],g=Object(r.useCallback)((function(){b(l)}),[]),k=function(e,t,n){var o=Object(r.useState)({}),a=o[0],i=o[1],c=Object(r.useState)({}),u=c[0],s=c[1],l=Object(r.useState)({}),f=l[0],d=l[1],b=Object(r.useCallback)((function(){i({}),s({})}),[]);return Object(r.useEffect)((function(){var n=p(e,t);d(Object.assign({},a,{},E(n)))}),[e,a,t]),{resetCoordinates:b,allCoordinates:f,addStationaryCoordinates:Object(r.useCallback)((function(){var r=p(e,t),o=n[0],c=n[1],l=Object.assign({},a,{},E(r)),f=Object.assign({},u);r.coordinates.forEach((function(e){var t=e[0],n=e[1];f[t]||(f[t]={}),f[t][n]=!0}));var d=0;if(Object.entries(f).forEach((function(e){var t=e[0],n=e[1],r=Object.keys(n);r.length>=c&&(r.forEach((function(e){return delete l[String([Number(t),Number(e)])]})),delete f[t],d+=1)})),d){var b=o-1,m=Object.entries(f).sort((function(e,t){var n=e[0],r=t[0];return Number(r)-Number(n)})).reduce((function(e,t){var n=e[0],r=e[1],o=t[0],a=t[1];return n[b]=a,Object.keys(a).forEach((function(e){var t=e[0];r[String([b,Number(t)])]=l[String([Number(o),Number(t)])]})),b-=1,[n,r]}),[{},{}]),v=m[0],C=m[1];f=v,l=C}return i(l),s(f),d}),[a,u,e,t]),stationaryBrickCoordinates:a}}(i,d,n),O=k.allCoordinates,h=k.resetCoordinates,j=k.stationaryBrickCoordinates,y=k.addStationaryCoordinates,w=function(e,t,n,o,a,i){var c=Object(r.useCallback)((function(e){return e.every((function(e){var t=e[0],n=e[1],r=0<=n,o=n<a[1],c=t<a[0],u=!i[String([t,n])];return r&&o&&c&&u}))}),[a,i]),u=Object(r.useCallback)((function(t,r,a){var i=p(e,n);c(C(i.coordinates,t))?o(v(n,t)):i.coordinates.some((function(e){var t=e[0];e[1];return t<=0}))?a&&a():r&&r()}),[e,a,i,n]),s=Object(r.useCallback)((function(r){var o=Object.assign({},e,{coordinates:e.coordinates.map(r)}),a=p(o,n);c(a.coordinates)?t(o):(c(C(a.coordinates,[0,1]))&&(u([0,1]),t(o)),c(C(a.coordinates,[0,-1]))&&(u([0,-1]),t(o)))}),[e,n]);return{rotateClockwise:Object(r.useCallback)((function(){s((function(e){var t=e[0];return[e[1],-t]}))}),[s]),rotateCounterClockwise:Object(r.useCallback)((function(){s((function(e){var t=e[0];return[-e[1],t]}))}),[s]),moveLeft:Object(r.useCallback)((function(){return u([0,-1])}),[u]),moveRight:Object(r.useCallback)((function(){return u([0,1])}),[u]),moveDown:Object(r.useCallback)((function(e,t){return u([1,0],e,t)}),[u])}}(i,c,d,b,n,j),S=w.moveDown,N=w.moveLeft,A=w.moveRight,x=w.rotateClockwise,T=w.rotateCounterClockwise,D=Object(r.useCallback)((function(){s(),g()}),[y,s]),I=Object(r.useState)(0),F=I[0],B=I[1],G=Object(r.useCallback)((function(e){B(F+e*(100*e))}),[F]),L=function(e,t,n,o,a,i,c){var u=Object(r.useState)(0),s=u[0],l=u[1],f=Object(r.useState)(40),d=f[0],b=f[1],m=Object(r.useCallback)((function(e){b(d-2*e)}),[d]),v=Object(r.useCallback)((function(){b(40)}),[]),C=Object(r.useCallback)((function(e){var n=o();n&&(m(n),c(n)),t()}),[o,m,t,c]),p=Object(r.useCallback)((function(){window.alert("You've lost! Your final score was "+a),n(),i(0),v(),t()}),[t,a]);return Object(r.useEffect)((function(){s%d||e(C,p)}),[s,d]),Object(r.useEffect)((function(){setTimeout((function(){return l(s+1)}),10)}),[s]),{speed:d,resetGameSpeed:v}}(S,D,h,y,F,B,G),R=L.speed,M=L.resetGameSpeed,P=Object(r.useCallback)((function(){M(),h(),B(0),D()}),[h,M,D]);return function(e){Object(r.useEffect)((function(){var t=e.map((function(e){var t=function(t){return t.key===e.key?e.fn():null};return window.addEventListener("keydown",t),t}));return function(){t.forEach((function(e){window.removeEventListener("keydown",e)}))}}),e.map((function(e){return e.fn})))}([{key:"ArrowDown",fn:S},{key:"ArrowLeft",fn:N},{key:"ArrowRight",fn:A},{key:"w",fn:x},{key:"q",fn:T}]),{dimensions:n,resetGameState:P,activeTetrimino:i,tetriminoToCoords:E,score:F,nextTetrimino:u,setDimensions:o,replaceCurrentTetrimino:s,allCoordinates:O,shiftCoordinates:C,setBrickPosition:b,addStationaryCoordinates:y,moveLeft:N,moveRight:A,speed:R,moveDown:S,rotateClockwise:x,rotateCounterClockwise:T}},k=function(){var e=g([20,10]),t=e.allCoordinates,n=e.activeTetrimino,r=e.tetriminoToCoords,a=e.nextTetrimino,c=e.dimensions,u=(e.setDimensions,e.shiftCoordinates),s=e.score,l=(e.resetGameState,e.speed);return o.a.createElement("div",{style:{padding:20,backgroundColor:n.accentColor,display:"flex",width:"fit-content",margin:"auto"}},o.a.createElement("div",{style:{display:"flex",flexShrink:1}},o.a.createElement("div",{style:{backgroundColor:"#260A57",padding:35,marginRight:20}},o.a.createElement(i,{dimensions:c,points:t})),o.a.createElement("div",{style:{display:"flex",flexDirection:"column",justifyContent:"space-between"}},o.a.createElement("div",{style:{backgroundColor:"#260A57",padding:35,marginBottom:20}},o.a.createElement(i,{dimensions:[4,4],points:r(Object.assign({},a,{coordinates:u(a.coordinates,[1,1])}))})),o.a.createElement("div",{style:{backgroundColor:"#260A57",fontFamily:"Press Start 2P",color:"white",padding:35,flexGrow:1}},o.a.createElement("h3",null,"Arrow Keys: Move"),o.a.createElement("h3",null," Q/W: rotate"),o.a.createElement("h3",null,"Score: ",s),o.a.createElement("h5",null,"Blocks move every ",l,"0/ms")))))};t.default=function(){return o.a.createElement("div",null,o.a.createElement(k,null))}},UExd:function(e,t,n){var r=n("nh4g"),o=n("DVgA"),a=n("aCFj"),i=n("UqcF").f;e.exports=function(e){return function(t){for(var n,c=a(t),u=o(c),s=u.length,l=0,f=[];s>l;)n=u[l++],r&&!i.call(c,n)||f.push(e?[n,c[n]]:c[n]);return f}}},bHtr:function(e,t,n){var r=n("XKFU");r(r.P,"Array",{fill:n("Nr18")}),n("nGyu")("fill")},p21n:function(e,t){},qncB:function(e,t,n){var r=n("XKFU"),o=n("vhPU"),a=n("eeVq"),i=n("/e88"),c="["+i+"]",u=RegExp("^"+c+c+"*"),s=RegExp(c+c+"*$"),l=function(e,t,n){var o={},c=a((function(){return!!i[e]()||"​"!="​"[e]()})),u=o[e]=c?t(f):i[e];n&&(o[n]=u),r(r.P+r.F*c,"String",o)},f=l.trim=function(e,t){return e=String(o(e)),1&t&&(e=e.replace(u,"")),2&t&&(e=e.replace(s,"")),e};e.exports=l},xfY5:function(e,t,n){"use strict";var r=n("dyZX"),o=n("aagx"),a=n("LZWt"),i=n("Xbzi"),c=n("apmT"),u=n("eeVq"),s=n("kJMx").f,l=n("EemH").f,f=n("hswa").f,d=n("qncB").trim,b=r.Number,m=b,v=b.prototype,C="Number"==a(n("Kuth")(v)),p="trim"in String.prototype,E=function(e){var t=c(e,!1);if("string"==typeof t&&t.length>2){var n,r,o,a=(t=p?t.trim():d(t,3)).charCodeAt(0);if(43===a||45===a){if(88===(n=t.charCodeAt(2))||120===n)return NaN}else if(48===a){switch(t.charCodeAt(1)){case 66:case 98:r=2,o=49;break;case 79:case 111:r=8,o=55;break;default:return+t}for(var i,u=t.slice(2),s=0,l=u.length;s<l;s++)if((i=u.charCodeAt(s))<48||i>o)return NaN;return parseInt(u,r)}}return+t};if(!b(" 0o1")||!b("0b1")||b("+0x1")){b=function(e){var t=arguments.length<1?0:e,n=this;return n instanceof b&&(C?u((function(){v.valueOf.call(n)})):"Number"!=a(n))?i(new m(E(t)),n,b):E(t)};for(var g,k=n("nh4g")?s(m):"MAX_VALUE,MIN_VALUE,NaN,NEGATIVE_INFINITY,POSITIVE_INFINITY,EPSILON,isFinite,isInteger,isNaN,isSafeInteger,MAX_SAFE_INTEGER,MIN_SAFE_INTEGER,parseFloat,parseInt,isInteger".split(","),O=0;k.length>O;O++)o(m,g=k[O])&&!o(b,g)&&f(b,g,l(m,g));b.prototype=v,v.constructor=b,n("KroJ")(r,"Number",b)}}}]);
//# sourceMappingURL=component---src-pages-index-tsx-418099086308007653ff.js.map